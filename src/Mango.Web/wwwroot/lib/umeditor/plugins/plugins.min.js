function registerPlugins(){plugins.pimage=new function(){var n={};return n.arrImage=[],UM.registerUI("pimage",function(t){var i=this,r=$.eduibutton({icon:"image",click:function(){var t=layer.open({type:2,title:"图片",maxmin:!1,shadeClose:!0,area:["700px","320px"],content:"/lib/umeditor/plugins/image/image.html",btn:["确定","取消"],btn1:function(){for(var u,r=0;r<n.arrImage.length;r++)u='<img src="'+n.arrImage[r]+'" style="max-width:650px;" alt="缩略图" />',i.execCommand("insertHtml",u);layer.close(t);n.arrImage.splice(0,n.arrImage.length)},btn2:function(){layer.close(t);n.arrImage.splice(0,n.arrImage.length)}})},title:"图片"});return i.addListener("selectionchange",function(){var n=this.queryCommandState(t);r.edui().disabled(n==-1).active(n==1)}),r}),n};plugins.code=new function(){var n={};return n.CodeObj={},UM.registerUI("code",function(t){var i=this,r=$.eduibutton({icon:"source",click:function(){var t=layer.open({type:2,title:"源代码",maxmin:!1,shadeClose:!0,area:["620px","380px"],content:"/lib/umeditor/plugins/code/code.html",btn:["确定","取消"],btn1:function(){if(n.CodeObj.codeContent!=""){var r='<pre  class="prettyprint"><code class="language-'+n.CodeObj.codeType+'">'+n.CodeObj.codeContent+"<\/code><\/pre>";i.execCommand("insertHtml",r)}layer.close(t);n.CodeObj={}},btn2:function(){layer.close(t);n.CodeObj={}}})},title:"源代码"});return i.addListener("selectionchange",function(){var n=this.queryCommandState(t);r.edui().disabled(n==-1).active(n==1)}),r}),n}}var plugins=[];